{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events');\nconst Task = require('./task');\nconst Scheduler = require('./scheduler');\nconst uuid = require('uuid');\nclass ScheduledTask extends EventEmitter {\n  constructor(cronExpression, func, options) {\n    super();\n    if (!options) {\n      options = {\n        scheduled: true,\n        recoverMissedExecutions: false\n      };\n    }\n    this.options = options;\n    this.options.name = this.options.name || uuid.v4();\n    this._task = new Task(func);\n    this._scheduler = new Scheduler(cronExpression, options.timezone, options.recoverMissedExecutions);\n    this._scheduler.on('scheduled-time-matched', now => {\n      this.now(now);\n    });\n    if (options.scheduled !== false) {\n      this._scheduler.start();\n    }\n    if (options.runOnInit === true) {\n      this.now('init');\n    }\n  }\n  now() {\n    let now = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'manual';\n    let result = this._task.execute(now);\n    this.emit('task-done', result);\n  }\n  start() {\n    this._scheduler.start();\n  }\n  stop() {\n    this._scheduler.stop();\n  }\n}\nmodule.exports = ScheduledTask;","map":{"version":3,"names":["EventEmitter","require","Task","Scheduler","uuid","ScheduledTask","constructor","cronExpression","func","options","scheduled","recoverMissedExecutions","name","v4","_task","_scheduler","timezone","on","now","start","runOnInit","result","execute","emit","stop","module","exports"],"sources":["C:/Users/ritik/OneDrive/Desktop/React/nnnn/My_Timeline/client/node_modules/node-cron/src/scheduled-task.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events');\nconst Task = require('./task');\nconst Scheduler = require('./scheduler');\nconst uuid = require('uuid');\n\nclass ScheduledTask extends EventEmitter {\n    constructor(cronExpression, func, options) {\n        super();\n        if(!options){\n            options = {\n                scheduled: true,\n                recoverMissedExecutions: false\n            };\n        }\n      \n        this.options = options;\n        this.options.name = this.options.name || uuid.v4();\n\n        this._task = new Task(func);\n        this._scheduler = new Scheduler(cronExpression, options.timezone, options.recoverMissedExecutions);\n\n        this._scheduler.on('scheduled-time-matched', (now) => {\n            this.now(now);\n        });\n\n        if(options.scheduled !== false){\n            this._scheduler.start();\n        }\n        \n        if(options.runOnInit === true){\n            this.now('init');\n        }\n    }\n    \n    now(now = 'manual') {\n        let result = this._task.execute(now);\n        this.emit('task-done', result);\n    }\n    \n    start() {\n        this._scheduler.start();  \n    }\n    \n    stop() {\n        this._scheduler.stop();\n    }\n}\n\nmodule.exports = ScheduledTask;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,YAAY,GAAGC,OAAO,CAAC,QAAQ,CAAC;AACtC,MAAMC,IAAI,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAC9B,MAAME,SAAS,GAAGF,OAAO,CAAC,aAAa,CAAC;AACxC,MAAMG,IAAI,GAAGH,OAAO,CAAC,MAAM,CAAC;AAE5B,MAAMI,aAAa,SAASL,YAAY,CAAC;EACrCM,WAAW,CAACC,cAAc,EAAEC,IAAI,EAAEC,OAAO,EAAE;IACvC,KAAK,EAAE;IACP,IAAG,CAACA,OAAO,EAAC;MACRA,OAAO,GAAG;QACNC,SAAS,EAAE,IAAI;QACfC,uBAAuB,EAAE;MAC7B,CAAC;IACL;IAEA,IAAI,CAACF,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACA,OAAO,CAACG,IAAI,GAAG,IAAI,CAACH,OAAO,CAACG,IAAI,IAAIR,IAAI,CAACS,EAAE,EAAE;IAElD,IAAI,CAACC,KAAK,GAAG,IAAIZ,IAAI,CAACM,IAAI,CAAC;IAC3B,IAAI,CAACO,UAAU,GAAG,IAAIZ,SAAS,CAACI,cAAc,EAAEE,OAAO,CAACO,QAAQ,EAAEP,OAAO,CAACE,uBAAuB,CAAC;IAElG,IAAI,CAACI,UAAU,CAACE,EAAE,CAAC,wBAAwB,EAAGC,GAAG,IAAK;MAClD,IAAI,CAACA,GAAG,CAACA,GAAG,CAAC;IACjB,CAAC,CAAC;IAEF,IAAGT,OAAO,CAACC,SAAS,KAAK,KAAK,EAAC;MAC3B,IAAI,CAACK,UAAU,CAACI,KAAK,EAAE;IAC3B;IAEA,IAAGV,OAAO,CAACW,SAAS,KAAK,IAAI,EAAC;MAC1B,IAAI,CAACF,GAAG,CAAC,MAAM,CAAC;IACpB;EACJ;EAEAA,GAAG,GAAiB;IAAA,IAAhBA,GAAG,uEAAG,QAAQ;IACd,IAAIG,MAAM,GAAG,IAAI,CAACP,KAAK,CAACQ,OAAO,CAACJ,GAAG,CAAC;IACpC,IAAI,CAACK,IAAI,CAAC,WAAW,EAAEF,MAAM,CAAC;EAClC;EAEAF,KAAK,GAAG;IACJ,IAAI,CAACJ,UAAU,CAACI,KAAK,EAAE;EAC3B;EAEAK,IAAI,GAAG;IACH,IAAI,CAACT,UAAU,CAACS,IAAI,EAAE;EAC1B;AACJ;AAEAC,MAAM,CAACC,OAAO,GAAGrB,aAAa"},"metadata":{},"sourceType":"script","externalDependencies":[]}