{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport * as api from '../Api/Api';\nexport const addUser = createAsyncThunk('user/addUser', async userData => {\n  try {\n    const response = await api.addUser(userData);\n    return response.data;\n  } catch (error) {\n    // If we are here 2 things could have happened. \n    // 1. Cannot connect to Server Error. -----> request error\n    // 2. Could not add the user becoz of error ---response error\n\n    if (error.response) {\n      throw \"409\";\n    } else {\n      throw \"500\";\n    }\n  }\n});\nexport const verifyUser = createAsyncThunk('user/verifyUser', async userData => {\n  try {\n    const response = await api.verifyUser(userData);\n    return response.data;\n  } catch (error) {\n    if (error.response) {\n      console.log(error.response);\n      throw error.response.status;\n    } else {\n      throw \"500\";\n    }\n  }\n});\nexport const updateCart = createAsyncThunk('user/updateCart', async data => {\n  const response = await api.updateCart(data);\n  return response.data;\n});\nexport const getUserInfo = createAsyncThunk('user/getUserInfo', async email => {\n  const response = await api.getUserInfo(email);\n  return response.data;\n});\nconst initialState = {\n  userData: {},\n  userLoggedIn: false,\n  addUserStatus: \"\",\n  verifyUserStatus: \"\",\n  getUserInfoStatus: \"\",\n  updateCartStatus: \"\"\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: initialState,\n  reducers: {\n    setUpdateCartStatus(state) {\n      state.updateCartStatus = \"\";\n    },\n    logoutUser(state) {\n      state.userLoggedIn = false;\n    }\n  },\n  extraReducers: {\n    [addUser.pending]: state => {\n      return {\n        ...state,\n        addUserStatus: \"pending\"\n      };\n    },\n    [addUser.rejected]: state => {\n      return {\n        ...state,\n        addUserStatus: \"rejected\"\n      };\n    },\n    [addUser.fulfilled]: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      return {\n        ...state,\n        addUserStatus: \"success\",\n        userLoggedIn: true,\n        userData: payload.result\n      };\n    },\n    //////////////////////////////////////////////////////////////////////////////\n\n    [verifyUser.pending]: state => {\n      return {\n        ...state,\n        verifyUserStatus: \"pending\"\n      };\n    },\n    [verifyUser.rejected]: (state, payload) => {\n      return {\n        ...state,\n        verifyUserStatus: payload.error.message\n      };\n    },\n    [verifyUser.fulfilled]: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      return {\n        ...state,\n        verifyUserStatus: \"success\",\n        userLoggedIn: true,\n        displayOverlay: false,\n        userData: payload.result\n      };\n    },\n    //////////////////////////////////////////////////////////////////////////////\n\n    [updateCart.pending]: state => {\n      return {\n        ...state,\n        updateCartStatus: \"pending\"\n      };\n    },\n    [updateCart.rejected]: state => {\n      return {\n        ...state,\n        updateCartStatus: \"rejected\"\n      };\n    },\n    [updateCart.fulfilled]: (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      return {\n        ...state,\n        updateCartStatus: \"success\",\n        userData: payload.message\n      };\n    },\n    //////////////////////////////////////////////////////////////////////////////\n\n    [getUserInfo.rejected]: () => {},\n    [getUserInfo.fulfilled]: (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      return {\n        ...state,\n        userData: payload.message,\n        getUserInfoStatus: \"success\"\n      };\n    }\n  }\n});\nexport default userSlice.reducer;\nexport const userActions = userSlice.actions;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","addUser","userData","response","data","error","verifyUser","console","log","status","updateCart","getUserInfo","email","initialState","userLoggedIn","addUserStatus","verifyUserStatus","getUserInfoStatus","updateCartStatus","userSlice","name","reducers","setUpdateCartStatus","state","logoutUser","extraReducers","pending","rejected","fulfilled","payload","result","message","displayOverlay","reducer","userActions","actions"],"sources":["C:/Users/ritik/OneDrive/Desktop/React/my_timeline/client/src/Redux/userSlice.js"],"sourcesContent":["import {createSlice,createAsyncThunk} from \"@reduxjs/toolkit\"\r\nimport * as api from '../Api/Api'\r\n\r\n\r\nexport const addUser = createAsyncThunk('user/addUser',async (userData) =>{\r\n        \r\n        try{\r\n            const response = await api.addUser(userData)\r\n            return response.data\r\n        }\r\n        catch(error){\r\n\r\n            // If we are here 2 things could have happened. \r\n            // 1. Cannot connect to Server Error. -----> request error\r\n            // 2. Could not add the user becoz of error ---response error\r\n\r\n            if(error.response){\r\n                throw \"409\"\r\n            }\r\n            else{\r\n                throw \"500\"\r\n            }\r\n        }\r\n})\r\n\r\n\r\nexport const verifyUser = createAsyncThunk('user/verifyUser', async (userData)=>{\r\n        try{\r\n            const response = await api.verifyUser(userData)\r\n            return response.data\r\n        }\r\n        catch(error){\r\n\r\n            if(error.response){\r\n                console.log(error.response)\r\n                throw error.response.status\r\n            }\r\n            else{\r\n                throw \"500\"\r\n            }   \r\n        }\r\n})\r\n\r\n\r\nexport const updateCart = createAsyncThunk('user/updateCart',async (data) => {\r\n    const response = await api.updateCart(data)\r\n    return response.data\r\n})\r\n\r\nexport const getUserInfo = createAsyncThunk('user/getUserInfo',async (email) => {\r\n    const response = await api.getUserInfo(email)\r\n    return response.data\r\n})\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n    userData : {},\r\n    userLoggedIn: false,\r\n    addUserStatus : \"\",\r\n    verifyUserStatus: \"\",\r\n    getUserInfoStatus: \"\",\r\n    updateCartStatus : \"\",\r\n}\r\n\r\n\r\n\r\nconst userSlice = createSlice({\r\n    name: 'user',\r\n    initialState : initialState,\r\n    reducers: {\r\n        \r\n        setUpdateCartStatus(state){\r\n            state.updateCartStatus  = \"\"\r\n        },\r\n\r\n        logoutUser(state){\r\n            state.userLoggedIn = false\r\n        },\r\n\r\n    },\r\n    extraReducers:{\r\n\r\n        [addUser.pending] : (state) => { return {...state, addUserStatus : \"pending\"}},  \r\n        [addUser.rejected] : (state) => { return {...state,addUserStatus:\"rejected\"}},\r\n        [addUser.fulfilled] : (state,{payload}) => {\r\n                            return {...state,\r\n                                addUserStatus : \"success\",\r\n                                userLoggedIn : true, \r\n                                userData : payload.result\r\n                            }},  \r\n\r\n        //////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n        [verifyUser.pending] : (state) => { return {...state, verifyUserStatus : \"pending\"}},\r\n        [verifyUser.rejected] : (state,payload) => { return {...state,verifyUserStatus : payload.error.message}},\r\n        [verifyUser.fulfilled] : (state,{payload}) => { \r\n                            return {...state,\r\n                                verifyUserStatus : \"success\",\r\n                                userLoggedIn : true, \r\n                                displayOverlay: false,\r\n                                userData : payload.result,\r\n                            }},\r\n        \r\n        \r\n        //////////////////////////////////////////////////////////////////////////////\r\n        \r\n        \r\n        \r\n        [updateCart.pending]:(state)=>{ return {...state,updateCartStatus:\"pending\"}},\r\n        [updateCart.rejected] : (state) => { return {...state,updateCartStatus:\"rejected\"}},\r\n        [updateCart.fulfilled] : (state,{payload}) => {return {...state,updateCartStatus:\"success\",userData:payload.message}},\r\n\r\n        //////////////////////////////////////////////////////////////////////////////\r\n        \r\n        [getUserInfo.rejected] : () => {},\r\n        [getUserInfo.fulfilled] : (state,{payload}) => {\r\n                return {\r\n                    ...state,\r\n                    userData : payload.message,\r\n                    getUserInfoStatus : \"success\"\r\n                }\r\n        },\r\n        \r\n\r\n    }\r\n})\r\n\r\n\r\nexport default userSlice.reducer \r\nexport const userActions = userSlice.actions"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}